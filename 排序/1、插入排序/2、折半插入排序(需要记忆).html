<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<title>折半插入排序</title>
</head>
<body>
</body>
<script>
//空间复杂度：仅仅需要一个哨兵和临时记录空缺位置的单元，为常数个辅助单元，所以空间复杂度为O(1)；
//时间复杂度：
//	平均时间复杂度：O(n²)
//	
//	在数据量少的时候，性能优于 直接插入排序
//	
//	平均比较次数 O(nlog₂n)
	function insertSort(arr){
		console.log("折半插入排序前的数组: "+arr);
		for(var i=1;i<arr.length;i++){
			var sb=arr[i];//待插入排序的元素出队

			var low=0,high=i-1;
			//////开始查找待插入的位置///////
			while(low<=high){
				var mid=Math.ceil((high+low)/2);
				if(arr[mid]>sb){
					high=mid-1; //查找左子表
				}
				else{
					low=mid+1;//查找右子表
				}
			}
			///开始移动元素/////
			for(var j=i-1;j>=high;j--){
				arr[j+1]=arr[j];
			}
			arr[high+1]=sb;	//这个位置没有考虑好
	}
	return arr;	
};
	var a=[4,6,1,3,6,9,0];
	console.log("折半插入排序后的数组: "+insertSort(a));
</script>
</html>